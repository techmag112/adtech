# SF ArTech Система

Сделано в качестве практического задания на курсе **PHP**

## Назначение системы
Трекер трафика, созданный для организации взаимодействия компаний (рекламодателей), которые хотят привлечь к себе на сайт посетителей и покупателей (клиентов), и владельцев сайтов (веб-мастеров), на которые люди приходят, например, чтобы почитать новости или пообщаться на форуме.

## Описание функционала
Рекламодатель создаёт предложение (offer), определяя URL страницы, на которую он хочет приводить людей. В offer-е он также определяет стоимость перехода по ссылке. Скажем, 1 рубль за переход.

Веб-мастера в системе видят создаваемые офферы, подписываются на них, после чего система выдаёт им специальные ссылки, которые они должны разместить в любом виде у себя на ресурсе. Ссылка эта ведёт не на целевой URL, а на систему-редиректор, которая фиксирует переход, а затем перенаправляет клиента на страницу сайта рекламодателя.

По итогам рекламодатель получает N посетителей и платит за это системе N рублей. Система определяет комиссию (например, 20%) за свои услуги. Таким образом, веб-мастер за привлечение клиентов, получит 0.8*N рублей, а система заработает 0.2*N рублей.

## Требования 
Требуется PHP версии 8 и более и MySQL.

## Документирование кода
Весь код документирован по стандарту **PHPDoc** ([PSR-5](https://github.com/php-fig/fig-standards/blob/master/proposed/phpdoc.md)) (все классы, методы, переменные и результаты возвратов). Это позволяет автоматизировать процесс создания рабочей документации с помощью пакета [phpDocumentor](https://www.phpdoc.org/).

## Описание таблиц 
Структура таблиц подробнее по [ссылке](/docs/db.md)

## Описание интерфейса
В зависимости от роли пользователя после авторизации он автоматически переключается на один из трех интерфейсов:
- [Панель заказчика](docs/offer.md)
- [Панель веб-мастера](docs/webmaster.md)
- [Панель администратора](docs/admin.md)

## Тестирование
Для тестирования можно использовать страницу [tests.html](./public/tests.html)
Она содержит 5 тестовых ссылок:
- Тест 1 Действующий оффер 1 
- Тест 2 Действующий оффер 2 
- Тест 3 Деактивированный оффер 
- Тест 4 Действующий оффер, но мастер не подписан 
- Тест 5 Несуществующий оффер 

## Настройки подключения к базе данных
Дамп базы данных лежит в корне.
Настройки подключения к базе данных находятся к классе Router:
```
PDO::class => function() {
    $driver = "mysql";
    $host = "localhost";
    $port = 3400;
    $database_name = "adtech";
    $username = "root";
    $password = "";
    $mypdo = new PDO("$driver:host=$host:$port;dbname=$database_name", $username, $password);
    return $mypdo;
},
```

## Лицензия
Лицензия MIT. Более подробно - по [ссылке](/docs/licence.md).


